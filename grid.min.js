/*
 	stackgrid.adem.js - adwm.co    
	Licensed under the MIT license - http://opensource.org/licenses/MIT
	Copyright (C) 2015 Andrew Prasetya
*/
!function(e,t,a){t.fn.collagePlus=function(i){return this.each(function(o,n){var s=t(this);if(s.data("collagePlus"))return s.data("collagePlus");var r=new function(i,o){function n(e,i){function o(e){var i=t(e.img),o=i.parents(".image-with-dimensions");if(o[0]!=a)if(e.isLoaded)i.fadeIn(400,function(){o.removeClass("image-with-dimensions")});else{o.removeClass("image-with-dimensions");i.hide();o.addClass("broken-image-here")}}e.find(T).find(L+":not([data-imageconverted])").each(function(){var o=t(this),n=o.find("div[data-thumbnail]").eq(0),s=o.find("div[data-popup]").eq(0),r=n.data("thumbnail");if(n[0]==a){n=s;r=s.data("popup")}if(0==i&&0==e.data("settings").waitForAllThumbsNoMatterWhat)if(n.data("width")==a&&n.data("height")==a);else return;o.attr("data-imageconverted","yes");var l=n.attr("title");if(l==a)l=r;var d=t('<img style="margin:auto;" alt="'+l+'" title="'+l+'" src="'+r+'" />');if(1==i){d.attr("data-dont-wait-for-me","yes");n.addClass("image-with-dimensions");if(e.data("settings").waitUntilThumbLoads)d.hide()}n.addClass("wpape-img-thumbnail-container").prepend(d)});if(1==i)e.find(".image-with-dimensions").imagesLoadedMB().always(function(e){for(index in e.images)o(e.images[index])}).progress(function(e,t){o(t)})}function s(e){e.find(T).each(function(){var i=t(this),o=i.find(L),n=o.find("div[data-thumbnail]").eq(0),s=o.find("div[data-popup]").eq(0);if(n[0]==a)n=s;var r=i.css("display");if("none"==r)i.css("margin-top",99999999999999).show();var l=2*e.data("settings").borderSize;o.width(n.width()-l);o.height(n.height()-l);if("none"==r)i.css("margin-top",0).hide()})}function r(e){e.find(T).find(L).each(function(){var i=t(this),o=i.find("div[data-thumbnail]").eq(0),n=i.find("div[data-popup]").eq(0);if(o[0]==a)o=n;var s=parseFloat(o.data("width")),r=parseFloat(o.data("height")),l=i.parents(T).width()-e.data("settings").horizontalSpaceBetweenBoxes,d=r*l/s;o.css("width",l);if(o.data("width")!=a||o.data("height")!=a)o.css("height",Math.floor(d))})}function l(e,i,o){var n,s=e.find(T);if("auto"==i)if(!1)n=100/o+"%";else n=Math.floor((e.width()-1)/o);else n=i;e.find(".wpape-imges-grid-sizer").css("width",n);s.each(function(e){var i=t(this),s=i.data("columns");if(s!=a&&parseInt(o)>=parseInt(s))if(!1)i.css("width",parseFloat(100/o)*s+"%");else i.css("width",n*parseInt(s));else if(!1)i.css("width",100/o+"%");else i.css("width",n)})}function d(t){var a=!1;for(var i in t.data("settings").resolutions){var o=t.data("settings").resolutions[i];if(o.maxWidth>=function(){var t=e,a="inner";if(!("innerWidth"in e)){a="client";t=document.documentElement||document.body}return{width:t[a+"Width"],height:t[a+"Height"]}}().width){l(t,o.columnWidth,o.columns);a=!0;break}}if(0==a)l(t,t.data("settings").columnWidth,t.data("settings").columns)}function f(e,t){B.addClass("filtering-isotope");c(e,t);!function(){var e=B.find(T+", ."+M),t=m();e.filter(t).removeClass("hidden-wpape-imges-by-filter").addClass("visible-wpape-imges-by-filter");e.not(t).addClass("hidden-wpape-imges-by-filter").removeClass("visible-wpape-imges-by-filter")}();p()}function p(){if(h().not(".wpape-img-loaded").length>0)v();else g();if(function(){var e=h().length;if(e<k.minBoxesPerFilter&&u().length>0){w(k.minBoxesPerFilter-e);return!0}return!1}());}function c(e,t){E[t]=e;B.eveMB({filter:function(e){for(var t in e)if((o=e[t])==a)e[t]="*";var i="";for(var t in e){var o=e[t];if(""==i)i=t;else if(i.split(",").length<o.split(",").length)i=t}var n=e[i];for(var t in e)if(t!=i)for(var s=e[t].split(","),r=0;r<s.length;r++){for(var l=n.split(","),d=[],f=0;f<l.length;f++){if("*"==l[f]&&"*"==s[r])s[r]="";else{if("*"==s[r])s[r]="";if("*"==l[f])l[f]=""}d.push(l[f]+s[r])}n=d.join(",")}return n}(E)})}function h(){var e=B.find(T),t=m();if("*"!=t)e=e.filter(t);return e}function m(){var e=B.data("eveMB").options.filter;if(""==e||e==a)e="*";return e}function u(e){var t=B.find("."+M),i=m();if("*"!=i&&e==a)t=t.filter(i);return t}function v(){z.html(k.LoadingWord);z.removeClass("wpape-imges-load-more");z.addClass("wpape-imges-loading")}function g(){z.removeClass("wpape-imges-load-more");z.removeClass("wpape-imges-loading");z.removeClass("wpape-imges-no-more-entries");if(u().length>0){z.html(k.loadMoreWord);z.addClass("wpape-imges-load-more")}else{z.html(k.noMoreEntriesWord);z.addClass("wpape-imges-no-more-entries")}}function w(e,a){if(1!=z.hasClass("wpape-imges-no-more-entries")){!function(){W++;v()}();var i=[];u(a).each(function(a){var o=t(this);if(a+1<=e){o.removeClass(M).addClass(S);o.hide();i.push(this)}});B.eveMB("insert",t(i),function(){!function(){if(0==--W)g()}();B.eveMB("layout")})}}function y(e){if(e!=a){var i=B.find("."+S+", ."+M);if(""==e)i.addClass("search-match");else{i.removeClass("search-match");B.find(k.searchTarget).each(function(){var a=t(this),i=a.parents("."+S+", ."+M);if(-1!==a.text().toLowerCase().indexOf(e.toLowerCase()))i.addClass("search-match")})}setTimeout(function(){f(".search-match","search")},100)}}function b(e){var t=e.data("sort-ascending");if(t==a)t=!0;if(e.data("sort-toggle")&&1==e.data("sort-toggle"))e.data("sort-ascending",!t);return t}function C(){if("#!"!=location.hash.substr(0,2))return null;var e=location.href.split("#!")[1];return{hash:e,src:e}}function x(){var e=t.magnificPopup.instance;if(e){var a=C();if(!a&&e.isOpen)e.close();else if(a)if(e.isOpen&&e.currItem&&e.currItem.el.parents(".wpape-imges-container").attr("id")==a.id){if(e.currItem.el.attr("data-mfp-src")!=a.src){var i=null;t.each(e.items,function(e,o){if((o.parsed?o.el:t(o)).attr("data-mfp-src")==a.src){i=e;return!1}});if(null!==i)e.goTo(i)}}else B.filter('[id="'+a.id+'"]').find('.wpape-lightbox[data-mfp-src="'+a.src+'"]').trigger("click")}}var k=t.extend({},t.fn.collagePlus.defaults,o),B=t(i).addClass("wpape-imges-container"),T=".wpape-img",L=".wpape-img-image",S="wpape-img",M="wpape-img-hidden",I=LegModernizr.csstransitions?"transition":"animate",E={},W=0;if("default"==k.overlayEasing)k.overlayEasing="transition"==I?"_default":"swing";var z=t('<div class="wpape-imges-load-more "></div>').insertAfter(B);z.wrap('<div class="wpape_gallery_button  wpape_gallery_button_bottom"></div>');z.addClass(k.loadMoreClass);k.resolutions.sort(function(e,t){return e.maxWidth-t.maxWidth});B.data("settings",k);B.css({"margin-left":-k.horizontalSpaceBetweenBoxes});B.find(T).removeClass(S).addClass(M);var P=t(k.sortContainer).find(k.sort).filter(".selected"),O=P.attr("data-sort-by"),_=b(P);B.append('<div class="wpape-imges-grid-sizer"></div>');B.eveMB({itemSelector:T,masonry:{columnWidth:".wpape-imges-grid-sizer"},getSortData:k.getSortData,sortBy:O,sortAscending:_});t.extend(EveMB.prototype,{resize:function(){var e=t(this.element);d(e);r(e);s(e);!function(e){e.find(T).each(function(){var i=t(this).find(L),o=e.data("settings").overlayEffect;if(i.data("overlay-effect")!=a)o=i.data("overlay-effect");if("direction"==o.substr(0,9))i.find(".thumbnail-overlay").hide()});e.eveMB("layout")}(e);g();if(this.isResizeBound&&this.needsResizeLayout())this.layout()}});t.extend(EveMB.prototype,{_setContainerMeasure:function(e,i){if(e!==a){var o=this.size;if(o.isBorderBox)e+=i?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth;e=Math.max(e,0);this.element.style[i?"width":"height"]=e+"px";var n=t(this.element);t.waypoints("refresh");n.addClass("lazy-load-ready");n.removeClass("filtering-isotope")}}});t.extend(EveMB.prototype,{insert:function(e,i){var o=this.addItems(e);if(o.length){var l,f,p=t(this.element),c=p.find("."+M)[0],h=o.length;for(l=0;l<h;l++){f=o[l];if(c!=a)this.element.insertBefore(f.element,c);else this.element.appendChild(f.element)}var m=function(e){var a=t(e.img),i=a.parents("div[data-thumbnail], div[data-popup]");if(0==e.isLoaded){a.hide();i.addClass("broken-image-here")}},u=this;!function(e){var a=t('<div class="wpape-img-container"></div').css({"margin-left":e.data("settings").horizontalSpaceBetweenBoxes,"margin-bottom":e.data("settings").verticalSpaceBetweenBoxes});e.find(T+":not([data-wrapper-added])").attr("data-wrapper-added","yes").wrapInner(a)}(p);d(p);r(p);!function(e){e.find(T+", ."+M).find(L+":not([data-popupTrigger])").each(function(){var e=t(this),i=e.find("div[data-popup]").eq(0);e.attr("data-popupTrigger","yes");var o="mfp-image";if("iframe"==i.data("type"))o="mfp-iframe";else if("inline"==i.data("type"))o="mfp-inline";else if("ajax"==i.data("type"))o="mfp-ajax";else if("link"==i.data("type"))o="mfp-link";else if("blanklink"==i.data("type"))o="mfp-blanklink";var n=e.find(".wpape-lightbox").addBack(".wpape-lightbox");n.attr("data-mfp-src",i.data("popup")).addClass(o);if(i.attr("title")!=a)n.attr("mfp-title",i.attr("title"))})}(p);n(p,!1);p.find("img:not([data-dont-wait-for-me])").imagesLoadedMB().always(function(){if(0==k.waitForAllThumbsNoMatterWhat)n(p,!0);p.find(T).addClass("wpape-img-loaded");(function(){var e=this._filter(o);this._noTransition(function(){this.hide(e)});for(l=0;l<h;l++)o[l].isLayoutInstant=!0;this.arrange();for(l=0;l<h;l++)delete o[l].isLayoutInstant;this.reveal(e)}).call(u);s(p);!function(e){if(0!=e.data("settings").thumbnailOverlay){var i=e.find(T+":not([data-set-overlay-for-hover-effect])").attr("data-set-overlay-for-hover-effect","yes");i.find(".thumbnail-overlay").wrapInner("<div class='aligment'><div class='aligment'></div></div>");i.each(function(){var i=t(this),o=i.find(L),n=e.data("settings").overlayEffect;if(o.data("overlay-effect")!=a)n=o.data("overlay-effect");if("push-up"==n||"push-down"==n||"push-up-100%"==n||"push-down-100%"==n){var s=o.find(".wpape-img-thumbnail-container"),r=o.find(".thumbnail-overlay").css("position","relative");if("push-up-100%"==n||"push-down-100%"==n)r.outerHeight(s.outerHeight(!1));var l=r.outerHeight(!1),d=t('<div class="wrapper-for-some-effects"></div');if("push-up"==n||"push-up-100%"==n)r.appendTo(o);else if("push-down"==n||"push-down-100%"==n){r.prependTo(o);d.css("margin-top",-l)}o.wrapInner(d)}else if("reveal-top"==n||"reveal-top-100%"==n){i.addClass("position-reveal-effect");f=i.find(".thumbnail-overlay").css("top",0);if("reveal-top-100%"==n)f.css("height","100%")}else if("reveal-bottom"==n||"reveal-bottom-100%"==n){i.addClass("position-reveal-effect").addClass("position-bottom-reveal-effect");var f=i.find(".thumbnail-overlay").css("bottom",0);if("reveal-bottom-100%"==n)f.css("height","100%")}else if("direction"==n.substr(0,9))i.find(".thumbnail-overlay").css("height","100%");else if("fade"==n){var p=i.find(".thumbnail-overlay").hide();p.css({height:"100%",top:"0",left:"0"});p.find(".fa").css({scale:1.4})}})}}(p);if("function"==typeof i)i();for(index in u.images){var e=u.images[index];m(e)}}).progress(function(e,t){m(t)})}}});w(k.boxesToLoadStart,!0);z.on("click",function(){w(k.boxesToLoad)});if(k.lazyLoad)B.waypoint(function(e){if(B.hasClass("lazy-load-ready"))if("down"==e&&0==B.hasClass("filtering-isotope")){B.removeClass("lazy-load-ready");w(k.boxesToLoad)}},{context:e,continuous:!0,enabled:!0,horizontal:!1,offset:"bottom-in-view",triggerOnce:!1});var F=t(k.filterContainer);F.find(k.filter).on("click",function(e){var i=t(this),o=i.parents(k.filterContainer);o.find(k.filter).removeClass(k.filterContainerSelectClass);i.addClass(k.filterContainerSelectClass);var n=i.attr("data-filter"),s="filter";if(o.data("id")!=a)s=o.data("id");f(n,s);e.preventDefault();if(!z.is(".wpape-imges-no-more-entries"))z.click()});F.each(function(){var e=t(this),i=e.find(k.filter).filter(".selected");if(i[0]!=a){var o=i.attr("data-filter"),n="filter";if(e.data("id")!=a)n=e.data("id");c(o,n)}});p();y(t(k.search).val());t(k.search).on("keyup",function(){y(t(this).val())});t(k.sortContainer).find(k.sort).on("click",function(e){var a=t(this);a.parents(k.sortContainer).find(k.sort).removeClass("selected");a.addClass("selected");var i=a.attr("data-sort-by");B.eveMB({sortBy:i,sortAscending:b(a)});e.preventDefault()});B.on("mouseenter.hoverdir, mouseleave.hoverdir",L,function(e){if(0!=k.thumbnailOverlay){var i=t(this),o=k.overlayEffect;if(i.data("overlay-effect")!=a)o=i.data("overlay-effect");var n=e.type,s=i.find(".wpape-img-thumbnail-container"),r=i.find(".thumbnail-overlay"),l=r.outerHeight(!1);if("push-up"==o||"push-up-100%"==o){d=i.find("div.wrapper-for-some-effects");if("mouseenter"===n)d.stop().show()[I]({"margin-top":-l},k.overlaySpeed,k.overlayEasing);else d.stop()[I]({"margin-top":0},k.overlaySpeed,k.overlayEasing)}else if("push-down"==o||"push-down-100%"==o){var d=i.find("div.wrapper-for-some-effects");if("mouseenter"===n)d.stop().show()[I]({"margin-top":0},k.overlaySpeed,k.overlayEasing);else d.stop()[I]({"margin-top":-l},k.overlaySpeed,k.overlayEasing)}else if("reveal-top"==o||"reveal-top-100%"==o)if("mouseenter"===n)s.stop().show()[I]({"margin-top":l},k.overlaySpeed,k.overlayEasing);else s.stop()[I]({"margin-top":0},k.overlaySpeed,k.overlayEasing);else if("reveal-bottom"==o||"reveal-bottom-100%"==o)if("mouseenter"===n)s.stop().show()[I]({"margin-top":-l},k.overlaySpeed,k.overlayEasing);else s.stop()[I]({"margin-top":0},k.overlaySpeed,k.overlayEasing);else if("direction"==o.substr(0,9)){var f=q(i,{x:e.pageX,y:e.pageY});if("direction-top"==o)f=0;else if("direction-bottom"==o)f=2;else if("direction-right"==o)f=1;else if("direction-left"==o)f=3;var p=R(f,i);if("mouseenter"==n){r.css({left:p.from,top:p.to});r.stop().show().fadeTo(0,1,function(){t(this).stop()[I]({left:0,top:0},k.overlaySpeed,k.overlayEasing)})}else if("direction-aware-fade"==o)r.fadeOut(700);else r.stop()[I]({left:p.from,top:p.to},k.overlaySpeed,k.overlayEasing)}else if("fade"==o){if("mouseenter"==n){r.stop().fadeOut(0);r.fadeIn(k.overlaySpeed)}else{r.stop().fadeIn(0);r.fadeOut(k.overlaySpeed)}var c=r.find(".fa");if("mouseenter"==n){c.css({scale:1.4});c[I]({scale:1},200)}else{c.css({scale:1});c[I]({scale:1.4},200)}}}});var q=function(e,t){var a=e.width(),i=e.height(),o=(t.x-e.offset().left-a/2)*(a>i?i/a:1),n=(t.y-e.offset().top-i/2)*(i>a?a/i:1);return Math.round((Math.atan2(n,o)*(180/Math.PI)+180)/90+3)%4},R=function(e,t){var a,i;switch(e){case 0:if(!k.reverse)a=0,i=-t.height();else a=0,i=-t.height();break;case 1:if(!k.reverse)a=t.width(),i=0;else a=-t.width(),i=0;break;case 2:if(!k.reverse)a=0,i=t.height();else a=0,i=-t.height();break;case 3:if(!k.reverse)a=-t.width(),i=0;else a=t.width(),i=0}return{from:a,to:i}},D=".wpape-lightbox[data-mfp-src]";if(k.considerFilteringInPopup)D=T+":not(.hidden-wpape-imges-by-filter) .wpape-lightbox[data-mfp-src], ."+M+":not(.hidden-wpape-imges-by-filter) .wpape-lightbox[data-mfp-src]";if(k.showOnlyLoadedBoxesInPopup)D=T+":visible .wpape-lightbox[data-mfp-src]";if(k.magnificPopup){var U={delegate:D,type:"image",removalDelay:200,closeOnContentClick:!1,alignTop:k.alignTop,preload:k.preload,mainClass:"my-mfp-slide-bottom",gallery:{enabled:k.gallery},closeMarkup:'<button title="%title%" class="mfp-close"></button>',titleSrc:"title",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"}},markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-bottom-bar" style="margin-top:4px;"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},callbacks:{change:function(){var i=t(this.currItem.el);if(i.is(".mfp-link")){e.location.href=t(this.currItem).attr("src");return!1}if(i.is(".mfp-blanklink")){e.open(t(this.currItem).attr("src"));setTimeout(function(){t.magnificPopup.instance.close()},5);return!1}setTimeout(function(){var e="";if(i.attr("mfp-title")!=a&&!k.hideTitle)t(".mfp-title").html(i.attr("mfp-title"));else t(".mfp-title").html("");var o=i.attr("data-mfp-src");e="";if(k.hideSourceImage)e=e+' <a class="image-source-link" href="'+o+'" target="_blank"></a>';var n=location.href,s=(location.href.replace(location.hash,""),i.attr("mfp-title")),r=n;t(".mfp-img").attr("alt",s);var l="";if(k.twitter)l+="<div class='wpape-imges-twitter fa fa-twitter' data-url='"+r+"'  data-title='"+s+"' ></div>";if(k.facebook)l+="<div class='wpape-imges-facebook fa fa-facebook-square' data-url='"+r+"'></div>";if(k.googleplus)l+="<div class='wpape-imges-googleplus fa fa-google-plus-square'  data-src="+o+" data-url='"+r+"'></div>";l=l?"<div class='wpape-imges-social-container'>"+l+"</div>":"";var d=t(".mfp-title").html();t(".mfp-title").html(d+l+e)},5);if(k.deepLinking)location.hash="#!"+i.attr("data-mfp-src")},beforeOpen:function(){if(1==k.touch)t("body").swipe("enable");this.container.data("scrollTop",parseInt(t(e).scrollTop()))},open:function(){t("html, body").scrollTop(this.container.data("scrollTop"))},close:function(){if(1==k.touch)t("body").swipe("disable");if(k.deepLinking)e.location.hash="#!"}}};t.extend(U,k.lightboxOptions);B.magnificPopup(U)}if(k.deepLinking){var A=C();if(A)B.find('.wpape-lightbox[data-mfp-src="'+A.src+'"]').trigger("click");if(e.addEventListener)e.addEventListener("hashchange",x,!1);else if(e.attachEvent)e.attachEvent("onhashchange",x)}var H=function(t){e.open(t,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)};t("body").on("click","div.wpape-imges-twitter",function(){var e=t(this),a=encodeURIComponent(e.data("url")),i=encodeURIComponent(e.data("title"));a="https://twitter.com/intent/tweet?url="+encodeURIComponent(e.data("url"))+"&text="+i;H(a)});t("body").on("click","div.wpape-imges-facebook",function(){var e=t(this),a=encodeURIComponent(e.data("url"));H(a="https://www.facebook.com/sharer/sharer.php?u="+a)});t("body").on("click","div.wpape-imges-googleplus",function(){var e=t(this),a=encodeURIComponent(e.data("url"));H(a="https://plus.google.com/share?url="+a)});return this}(this,i);s.data("collagePlus",r);t(".thumbnail-overlay a",this).click(function(a){a.preventDefault();var i=t(this).attr("href");if("_blank"==t(this).attr("target"))e.open(i,"_blank");else location.href=i;return!1})})};t.fn.collagePlus.defaults={boxesToLoadStart:8,boxesToLoad:4,minBoxesPerFilter:0,lazyLoad:!0,horizontalSpaceBetweenBoxes:15,verticalSpaceBetweenBoxes:15,columnWidth:"auto",columns:3,borderSize:0,resolutions:[{maxWidth:960,columnWidth:"auto",columns:3},{maxWidth:650,columnWidth:"auto",columns:2},{maxWidth:450,columnWidth:"auto",columns:1}],filterContainer:"#filter",filterContainerSelectClass:"active",filter:"a",search:"",searchTarget:".wpape-img-title",sortContainer:"",sort:"a",getSortData:{title:".wpape-img-title",text:".wpape-img-text"},waitUntilThumbLoads:!0,waitForAllThumbsNoMatterWhat:!1,thumbnailOverlay:!0,overlayEffect:"fade",overlaySpeed:200,overlayEasing:"default",showOnlyLoadedBoxesInPopup:!1,considerFilteringInPopup:!0,deepLinking:!1,gallery:!0,LoadingWord:"Loading...",loadMoreWord:"Load More",loadMoreClass:"",noMoreEntriesWord:"No More Entries",alignTop:!1,preload:[0,2],magnificPopup:!0,hideTitle:!1,hideCounter:!1,lightboxOptions:{},hideSourceImage:!1,twitter:!1,facebook:!1,googleplus:!1,touch:!1}}(window,window.apeQuer||window.jQuery);