/* 
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.15
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 *
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(e){if("function"==typeof define&&define.amd&&define.amd.jQuery)define(["jquery"],e);else if("undefined"!=typeof module&&module.exports)e(require("jquery"));else e(window.apeQuer||window.jQuery)}(function(e){"use strict";var n="left",t="right",i="up",r="down",l="in",o="out",u="none",a="auto",s="swipe",f="pinch",c="tap",p="doubletap",h="longtap",d="horizontal",g="vertical",w="all",v=10,T="start",b="move",E="end",y="cancel",m="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!m,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!m,O="TouchSwipe";e.fn.swipe=function(M){var D=e(this),P=D.data(O);if(P&&"string"==typeof M)if(P[M])return P[M].apply(this,Array.prototype.slice.call(arguments,1));else e.error("Method "+M+" does not exist on jQuery.swipe");else if(P&&"object"==typeof M)P.option.apply(this,arguments);else if(!(P||"object"!=typeof M&&M))return function(M){if(M&&void 0===M.allowPageScroll&&(void 0!==M.swipe||void 0!==M.swipeStatus))M.allowPageScroll=u;if(void 0!==M.click&&void 0===M.tap)M.tap=M.click;if(!M)M={};M=e.extend({},e.fn.swipe.defaults,M);return this.each(function(){var D=e(this),P=D.data(O);if(!P){P=new function(M,D){function P(l){if(!0!==me.data(O+"_intouch"))if(!(e(l.target).closest(D.excludedElements,me).length>0)){var o,u=l.originalEvent?l.originalEvent:l,a=u.touches,s=a?a[0]:u;xe=T;if(a)Se=a.length;else if(!1!==D.preventDefaultEvents)l.preventDefault();pe=0;he=null;de=null;Ee=null;ge=0;we=0;ve=0;Te=1;be=0;ye=function(){var e={};e[n]=ne(n);e[t]=ne(t);e[i]=ne(i);e[r]=ne(r);return e}();Z();K(0,s);if(!a||Se===D.fingers||D.fingers===w||C()){Me=le();if(2==Se){K(1,a[1]);we=ve=ie(Oe[0].start,Oe[1].start)}if(D.swipeStatus||D.pinchStatus)o=j(u,xe)}else o=!1;if(!1===o){j(u,xe=y);return o}else{if(D.hold)Ae=setTimeout(e.proxy(function(){me.trigger("hold",[u.target]);if(D.hold)o=D.hold.call(me,u,u.target)},this),D.longTapThreshold);J(!0)}return null}}function L(s){var f=s.originalEvent?s.originalEvent:s;if(xe!==E&&xe!==y&&!B()){var c,p=f.touches,h=$(p?p[0]:f);De=le();if(p)Se=p.length;if(D.hold)clearTimeout(Ae);xe=b;if(2==Se){if(0==we){K(1,p[1]);we=ve=ie(Oe[0].start,Oe[1].start)}else{$(p[1]);ve=ie(Oe[0].end,Oe[1].end);Ee=function(){if(Te<1)return o;else return l}(Oe[0].end,Oe[1].end)}Te=(ve/we*1).toFixed(2);be=Math.abs(we-ve)}if(Se===D.fingers||D.fingers===w||!p||C()){he=re(h.start,h.end);de=re(h.last,h.end);!function(e,l){if(!1!==D.preventDefaultEvents)if(D.allowPageScroll===u)e.preventDefault();else{var o=D.allowPageScroll===a;switch(l){case n:if(D.swipeLeft&&o||!o&&D.allowPageScroll!=d)e.preventDefault();break;case t:if(D.swipeRight&&o||!o&&D.allowPageScroll!=d)e.preventDefault();break;case i:if(D.swipeUp&&o||!o&&D.allowPageScroll!=g)e.preventDefault();break;case r:if(D.swipeDown&&o||!o&&D.allowPageScroll!=g)e.preventDefault()}}}(s,de);pe=function(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}(h.start,h.end);ge=te();!function(e,n){n=Math.max(n,ee(e));ye[e].distance=n}(he,pe);c=j(f,xe);if(!D.triggerOnTouchEnd||D.triggerOnTouchLeave){var v=!0;if(D.triggerOnTouchLeave){var T=function(n){var t=(n=e(n)).offset();return{left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()}}(this);v=function(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}(h.end,T)}if(!D.triggerOnTouchEnd&&v)xe=U(b);else if(D.triggerOnTouchLeave&&!v)xe=U(E);if(xe==y||xe==E)j(f,xe)}}else j(f,xe=y);if(!1===c)j(f,xe=y)}}function R(e){var n=e.originalEvent?e.originalEvent:e,t=n.touches;if(t)if(t.length&&!B()){!function(e){Pe=le();Le=e.touches.length+1}(n);return!0}else if(t.length&&B())return!0;if(B())Se=Le;De=le();ge=te();if(Q()||!H())j(n,xe=y);else if(D.triggerOnTouchEnd||0==D.triggerOnTouchEnd&&xe===b){if(!1!==D.preventDefaultEvents)e.preventDefault();j(n,xe=E)}else if(!D.triggerOnTouchEnd&&W())N(n,xe=E,c);else if(xe===b)j(n,xe=y);J(!1);return null}function k(){Se=0;De=0;Me=0;we=0;ve=0;Te=1;Z();J(!1)}function A(e){var n=e.originalEvent?e.originalEvent:e;if(D.triggerOnTouchLeave){xe=U(E);j(n,xe)}}function I(){me.unbind(ue,P);me.unbind(ce,k);me.unbind(ae,L);me.unbind(se,R);if(fe)me.unbind(fe,A);J(!1)}function U(e){var n=e,t=_(),i=H(),r=Q();if(!t||r)n=y;else if(i&&e==b&&(!D.triggerOnTouchEnd||D.triggerOnTouchLeave))n=E;else if(!i&&e==E&&D.triggerOnTouchLeave)n=y;return n}function j(e,n){var t,i=e.touches;if(F()&&X()||X())t=N(e,n,s);if((q()&&C()||C())&&!1!==t)t=N(e,n,f);if(G()&&z()&&!1!==t)t=N(e,n,p);else if(ge>D.longTapThreshold&&pe<v&&D.longTap&&!1!==t)t=N(e,n,h);else if((1===Se||!m)&&(isNaN(pe)||pe<D.threshold)&&W()&&!1!==t)t=N(e,n,c);if(n===y){if(X())t=N(e,n,s);if(C())t=N(e,n,f);k()}if(n===E)if(i){if(!i.length)k()}else k();return t}function N(u,a,d){var g;if(d==s){me.trigger("swipeStatus",[a,he||null,pe||0,ge||0,Se,Oe,de]);if(D.swipeStatus)if(!1===(g=D.swipeStatus.call(me,u,a,he||null,pe||0,ge||0,Se,Oe,de)))return!1;if(a==E&&F()){clearTimeout(ke);clearTimeout(Ae);me.trigger("swipe",[he,pe,ge,Se,Oe,de]);if(D.swipe)if(!1===(g=D.swipe.call(me,u,he,pe,ge,Se,Oe,de)))return!1;switch(he){case n:me.trigger("swipeLeft",[he,pe,ge,Se,Oe,de]);if(D.swipeLeft)g=D.swipeLeft.call(me,u,he,pe,ge,Se,Oe,de);break;case t:me.trigger("swipeRight",[he,pe,ge,Se,Oe,de]);if(D.swipeRight)g=D.swipeRight.call(me,u,he,pe,ge,Se,Oe,de);break;case i:me.trigger("swipeUp",[he,pe,ge,Se,Oe,de]);if(D.swipeUp)g=D.swipeUp.call(me,u,he,pe,ge,Se,Oe,de);break;case r:me.trigger("swipeDown",[he,pe,ge,Se,Oe,de]);if(D.swipeDown)g=D.swipeDown.call(me,u,he,pe,ge,Se,Oe,de)}}}if(d==f){me.trigger("pinchStatus",[a,Ee||null,be||0,ge||0,Se,Te,Oe]);if(D.pinchStatus)if(!1===(g=D.pinchStatus.call(me,u,a,Ee||null,be||0,ge||0,Se,Te,Oe)))return!1;if(a==E&&q())switch(Ee){case l:me.trigger("pinchIn",[Ee||null,be||0,ge||0,Se,Te,Oe]);if(D.pinchIn)g=D.pinchIn.call(me,u,Ee||null,be||0,ge||0,Se,Te,Oe);break;case o:me.trigger("pinchOut",[Ee||null,be||0,ge||0,Se,Te,Oe]);if(D.pinchOut)g=D.pinchOut.call(me,u,Ee||null,be||0,ge||0,Se,Te,Oe)}}if(d==c){if(a===y||a===E){clearTimeout(ke);clearTimeout(Ae);if(z()&&!G()){Re=le();ke=setTimeout(e.proxy(function(){Re=null;me.trigger("tap",[u.target]);if(D.tap)g=D.tap.call(me,u,u.target)},this),D.doubleTapThreshold)}else{Re=null;me.trigger("tap",[u.target]);if(D.tap)g=D.tap.call(me,u,u.target)}}}else if(d==p){if(a===y||a===E){clearTimeout(ke);clearTimeout(Ae);Re=null;me.trigger("doubletap",[u.target]);if(D.doubleTap)g=D.doubleTap.call(me,u,u.target)}}else if(d==h)if(a===y||a===E){clearTimeout(ke);Re=null;me.trigger("longtap",[u.target]);if(D.longTap)g=D.longTap.call(me,u,u.target)}return g}function H(){var e=!0;if(null!==D.threshold)e=pe>=D.threshold;return e}function Q(){var e=!1;if(null!==D.cancelThreshold&&null!==he)e=ee(he)-pe>=D.cancelThreshold;return e}function _(){var e;if(D.maxTimeThreshold)if(ge>=D.maxTimeThreshold)e=!1;else e=!0;else e=!0;return e}function q(){var e=Y(),n=V(),t=function(){if(null!==D.pinchThreshold)return be>=D.pinchThreshold;else return!0}();return e&&n&&t}function C(){return!!(D.pinchStatus||D.pinchIn||D.pinchOut)}function F(){var e=_(),n=H(),t=Y(),i=V();return!Q()&&i&&t&&n&&e}function X(){return!!(D.swipe||D.swipeStatus||D.swipeLeft||D.swipeRight||D.swipeUp||D.swipeDown)}function Y(){return Se===D.fingers||D.fingers===w||!m}function V(){return 0!==Oe[0].end.x}function W(){return!!D.tap}function z(){return!!D.doubleTap}function G(){if(null==Re)return!1;var e=le();return z()&&e-Re<=D.doubleTapThreshold}function Z(){Pe=0;Le=0}function B(){var e=!1;if(Pe)if(le()-Pe<=D.fingerReleaseThreshold)e=!0;return e}function J(e){if(me){if(!0===e){me.bind(ae,L);me.bind(se,R);if(fe)me.bind(fe,A)}else{me.unbind(ae,L,!1);me.unbind(se,R,!1);if(fe)me.unbind(fe,A,!1)}me.data(O+"_intouch",!0===e)}}function K(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};t.start.x=t.last.x=t.end.x=n.pageX||n.clientX;t.start.y=t.last.y=t.end.y=n.pageY||n.clientY;Oe[e]=t;return t}function $(e){var n=void 0!==e.identifier?e.identifier:0,t=function(e){return Oe[e]||null}(n);if(null===t)t=K(n,e);t.last.x=t.end.x;t.last.y=t.end.y;t.end.x=e.pageX||e.clientX;t.end.y=e.pageY||e.clientY;return t}function ee(e){if(ye[e])return ye[e].distance}function ne(e){return{direction:e,distance:0}}function te(){return De-Me}function ie(e,n){var t=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+i*i))}function re(e,l){var o=function(e,n){var t=e.x-n.x,i=n.y-e.y,r=Math.atan2(i,t),l=Math.round(180*r/Math.PI);if(l<0)l=360-Math.abs(l);return l}(e,l);if(o<=45&&o>=0)return n;else if(o<=360&&o>=315)return n;else if(o>=135&&o<=225)return t;else if(o>45&&o<135)return r;else return i}function le(){return(new Date).getTime()}var D=e.extend({},D),oe=m||S||!D.fallbackToMouseEvents,ue=oe?S?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ae=oe?S?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",se=oe?S?x?"MSPointerUp":"pointerup":"touchend":"mouseup",fe=oe?S?"mouseleave":null:"mouseleave",ce=S?x?"MSPointerCancel":"pointercancel":"touchcancel",pe=0,he=null,de=null,ge=0,we=0,ve=0,Te=1,be=0,Ee=0,ye=null,me=e(M),xe="start",Se=0,Oe={},Me=0,De=0,Pe=0,Le=0,Re=0,ke=null,Ae=null;try{me.bind(ue,P);me.bind(ce,k)}catch(n){e.error("events not supported "+ue+","+ce+" on jQuery.swipe")}this.enable=function(){me.bind(ue,P);me.bind(ce,k);return me};this.disable=function(){I();return me};this.destroy=function(){I();me.data(O,null);me=null};this.option=function(n,t){if("object"==typeof n)D=e.extend(D,n);else if(void 0!==D[n])if(void 0===t)return D[n];else D[n]=t;else if(!n)return D;else e.error("Option "+n+" does not exist on jQuery.swipe.options");return null}}(this,M);D.data(O,P)}})}.apply(this,arguments);return D};e.fn.swipe.version="1.6.15";e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:b,PHASE_END:E,PHASE_CANCEL:y};e.fn.swipe.directions={LEFT:n,RIGHT:t,UP:i,DOWN:r,IN:l,OUT:o};e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:d,VERTICAL:g,AUTO:a};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}});